{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["InputPage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","tempCurrentCO2e","handleChange","bind","assertThisInitialized","handleSubmit","value","setState","event","confirm","react_default","a","createElement","target","href","NumberInputForm","Component","onSubmit","react_numeric_input_default","className","strict","min","precision","onChange","type","SetBudgetPage","_this2","upperLimitRadius","exampleCountry","chooseExample","currentCO2e","exampleRadius","calculateRadius","emissions","tempGoalCO2e","goalRadius","currentHalf","closestCountry","country","emissionPerCapita","Math","abs","emission_per_capita","console","log","name","CO2eValue","viewBox","victory_pie","standalone","width","height","data","x","y","radius","innerRadius","colorScale","cx","cy","r","fill","stroke","strokeWidth","strokeDasharray","victory_label","textAnchor","verticalAnchor","style","fontSize","text","x1","x2","RangeInput","stepSize","max","startValue","onClick","goBack","step","SetDetailBudgetPage","_this3","transport","housing","food","other","pieAngle","monthlyBudget","budgetLimit","titles","emissionsForCategory","category","calculateAngle","label","startAngle","endAngle","App_BudgetControlPanel","CO2eList","BudgetControlPanel","_this4","openTab","budgetLeft","sliderValue","categories","CO2eObject","i","moneyChange","moneySpent","co2eChange","intensity","findIndexOfObject","co2eSpent","_this5","tabButtons","map","title","tabClick","slidersForSpecificTab","display_name","calculateMax","e","App","_this6","prop","phase","file","chart_group","push","mainContent","_this7","App_InputPage","v","confirmCurrentEmissions","App_SetBudgetPage","confirmBudgetLimit","App_SetDetailBudgetPage","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7636ce4f.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport file from './cats.json';\r\nimport emissionPerCapita from './emissionPerCapita.json';\r\nimport NumericInput from 'react-numeric-input';\r\nimport { VictoryPie, VictoryLabel } from 'victory';\r\n\r\n// 1. INPUT CURRENT CO2e\r\nclass InputPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {tempCurrentCO2e: ''};\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(value) {\r\n    this.setState({tempCurrentCO2e: value});\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    this.props.confirm(this.state.tempCurrentCO2e);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Fyll i nedan ditt totala växthusgasutsläpp för ett år</h2>\r\n        <p>Gör klimatkalkylatorn <a target=\"_blank\" href=\"https://www.klimatkontot.se/Default\">här</a> först</p>\r\n        <NumberInputForm value={this.state.tempCurrentCO2e} handleChange={this.handleChange} handleSubmit={this.handleSubmit}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction NumberInputForm (props) {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <label>\r\n        <NumericInput className=\"NumberInput\" strict={true} min={0} precision={1} value={props.value} onChange={props.handleChange}/>\r\n        ton\r\n      </label>\r\n      <br/>\r\n      <input type=\"submit\" value=\"Nästa steg\" />\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\n// 2. SETTING CO2e GOAL BUDGET LIMIT\r\nclass SetBudgetPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.upperLimitRadius = 100;\r\n    this.exampleCountry = this.chooseExample(this.props.currentCO2e); // Temporary\r\n    this.exampleRadius = this.calculateRadius(this.exampleCountry.emissions);\r\n\r\n    this.state = {\r\n      tempGoalCO2e: this.props.currentCO2e,\r\n      goalRadius: this.calculateRadius(this.props.currentCO2e)\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  chooseExample(currentCO2e) {\r\n    var currentHalf = currentCO2e/2;\r\n    var closestCountry = \"china\";\r\n\r\n    for (let country in emissionPerCapita) {\r\n      let newChange = Math.abs(emissionPerCapita[country].emission_per_capita - currentHalf);\r\n      let bestChange = Math.abs(emissionPerCapita[closestCountry].emission_per_capita - currentHalf);\r\n      if (newChange < bestChange) {\r\n        closestCountry = country;\r\n      }\r\n    }\r\n\r\n    console.log(closestCountry + \" \" + emissionPerCapita[closestCountry].emission_per_capita);\r\n\r\n    return {\r\n      name: emissionPerCapita[closestCountry].name,\r\n      emissions: emissionPerCapita[closestCountry].emission_per_capita\r\n    };\r\n  }\r\n\r\n  calculateRadius(CO2eValue) {\r\n    return CO2eValue/this.props.currentCO2e*this.upperLimitRadius;\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      tempGoalCO2e: event.target.value,\r\n      goalRadius: this.calculateRadius(event.target.value)\r\n    });\r\n  }\r\n\r\n  handleSubmit() {\r\n    this.props.confirm(this.state.tempGoalCO2e);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Sätt din årsbudget</h1>\r\n        <svg viewBox=\"0 0 220 220\">\r\n          <VictoryPie\r\n            standalone={false}\r\n            width={220} height={220}\r\n            data={[{x: \" \", y: 1}]}\r\n            radius={this.state.goalRadius}\r\n            innerRadius={this.state.goalRadius-20}\r\n            colorScale={[\"green\"]}\r\n          />\r\n          <circle cx=\"110\" cy=\"110\" r={this.exampleRadius} fill=\"none\" stroke=\"black\" strokeWidth={3} strokeDasharray=\"6\"/>\r\n          <circle cx=\"110\" cy=\"110\" r={this.upperLimitRadius} fill=\"none\" stroke=\"red\" strokeWidth={3}/>\r\n          <VictoryLabel\r\n            textAnchor=\"middle\" verticalAnchor=\"middle\"\r\n            x={110} y={110}\r\n            style={{fontSize: 20}}\r\n            text=\"CO2e\"\r\n          />\r\n        </svg>\r\n\r\n        <div className=\"averageCountry\">\r\n          <svg height=\"10\" width=\"50\">\r\n            <line x1=\"0\" x2=\"40\" stroke=\"black\" strokeWidth=\"10\" strokeDasharray=\"6\"/>\r\n          </svg>\r\n          <p>Medelmedborgare i {this.exampleCountry.name}</p>\r\n        </div>\r\n\r\n        <h2>{this.state.tempGoalCO2e}</h2>\r\n        <RangeInput\r\n          stepSize=\"0.1\"\r\n          max={this.props.currentCO2e}\r\n          startValue={this.state.tempGoalCO2e}\r\n          handleChange={this.handleChange}\r\n        />\r\n        <button type=\"button\" onClick={this.props.goBack}>Tillbaka</button>\r\n        <button type=\"button\" onClick={this.handleSubmit}>Nästa steg</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction RangeInput(props) {\r\n  return (\r\n    <form>\r\n      <input type=\"range\" min=\"0\" max={props.max} step={props.stepSize} value={props.startValue} onChange={props.handleChange}/>\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\n// 3. ALLOCATE PORTIONS OF BUDGET TO DIFFERENT CATEGORIES\r\nclass SetDetailBudgetPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      transport: 0,\r\n      housing: 0,\r\n      food: 0,\r\n      other: 0,\r\n      pieAngle: 0\r\n    };\r\n    this.monthlyBudget = this.props.budgetLimit/12*1000;\r\n    this.titles = [\r\n      \"Transport\",\r\n      \"Boende\",\r\n      \"Mat & Dryck\",\r\n      \"Övrig konsumtion\"\r\n    ];\r\n  }\r\n\r\n  calculateAngle() {\r\n    var state = this.state;\r\n    var total = state.transport + state.housing + state.food + state.other;\r\n    return total/this.monthlyBudget*360;\r\n  }\r\n\r\n  handleChange(emissionsForCategory) {\r\n    switch (emissionsForCategory.category) {\r\n      case \"transport\":\r\n        this.setState({\r\n          transport: emissionsForCategory.emissions,\r\n          pieAngle: this.calculateAngle()\r\n        });\r\n        break;\r\n      case \"housing\":\r\n        this.setState({\r\n          housing: emissionsForCategory.emissions,\r\n          pieAngle: this.calculateAngle()\r\n        });\r\n        break;\r\n      case \"food\":\r\n        this.setState({\r\n          food: emissionsForCategory.emissions,\r\n          pieAngle: this.calculateAngle()\r\n        });\r\n        break;\r\n      case \"other\":\r\n        this.setState({\r\n          other: emissionsForCategory.emissions,\r\n          pieAngle: this.calculateAngle()\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        <h1>Planera din månadsbudget</h1>\r\n        <svg viewBox=\"0 0 220 220\">\r\n          <VictoryPie\r\n            standalone={false}\r\n            data={[\r\n              {x: this.titles[0], y: this.state.transport, label: \" \"},\r\n              {x: this.titles[1], y: this.state.housing, label: \" \"},\r\n              {x: this.titles[2], y: this.state.food, label: \" \"},\r\n              {x: this.titles[3], y: this.state.other, label: \" \"}\r\n            ]}\r\n            startAngle={0}\r\n            endAngle={this.state.pieAngle}\r\n            width={220} height={220}\r\n            radius={100}\r\n            colorScale={[\"blue\", \"yellow\", \"green\", \"pink\"]}\r\n          />\r\n          <circle cx=\"110\" cy=\"110\" r=\"100\" fill=\"none\" stroke=\"black\" strokeWidth=\"3\"/>\r\n        </svg>\r\n        <BudgetControlPanel\r\n          titles={this.titles}\r\n          CO2eList={this.props.CO2eList}\r\n          budgetLimit={this.monthlyBudget}\r\n          handleChange={this.handleChange.bind(this)}\r\n        />\r\n        <button type=\"button\" onClick={this.props.goBack}>Tillbaka</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass BudgetControlPanel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      openTab: \"transport\",\r\n      budgetLeft: this.props.budgetLimit,\r\n      sliderValue: 0\r\n    };\r\n    this.categories = [\r\n      \"transport\",\r\n      \"housing\",\r\n      \"food\",\r\n      \"other\"\r\n    ]\r\n  }\r\n\r\n  tabClick(event) {\r\n    this.setState({\r\n      openTab: event.target.value,\r\n    });\r\n  }\r\n\r\n  findIndexOfObject(CO2eObject) {\r\n    for (let i in this.props.CO2eList[this.state.openTab]) {\r\n      if (this.props.CO2eList[this.state.openTab][i].name == CO2eObject.name) {\r\n        return i;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChange(event, CO2eObject) {\r\n    var budgetLeft = this.state.budgetLeft;\r\n    var moneyChange = event.target.value - CO2eObject.moneySpent;\r\n    var co2eChange = moneyChange * CO2eObject.intensity;\r\n\r\n    if (budgetLeft - co2eChange >= 0) {\r\n      this.props.CO2eList[this.state.openTab][this.findIndexOfObject(CO2eObject)].moneySpent += moneyChange;\r\n      budgetLeft -= co2eChange;\r\n    }\r\n    else {\r\n      return;\r\n    }\r\n\r\n    let emissionsForCategory = {\r\n      category: this.state.openTab,\r\n      emissions: 0\r\n    };\r\n    for (let i in this.props.CO2eList[this.state.openTab]) {\r\n      emissionsForCategory.emissions += this.props.CO2eList[this.state.openTab][i].co2eSpent();\r\n    }\r\n\r\n    this.setState({\r\n      budgetLeft: budgetLeft\r\n    });\r\n    this.props.handleChange(emissionsForCategory);\r\n  }\r\n\r\n  calculateMax(CO2eObject) {\r\n    if (CO2eObject.intensity == 0) {\r\n      return 8000;\r\n    }\r\n    else {\r\n      return CO2eObject.moneySpent + this.state.budgetLeft/CO2eObject.intensity;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let i = 0;\r\n    let tabButtons = this.props.titles.map((title) =>\r\n      <button value={this.categories[i++]} onClick={this.tabClick.bind(this)}>{title}</button>\r\n    );\r\n\r\n    let slidersForSpecificTab = this.props.CO2eList[this.state.openTab].map((CO2eObject) =>\r\n      <div>\r\n        <h3>{CO2eObject.display_name}</h3>\r\n        <p>{CO2eObject.moneySpent} kr</p>\r\n        <RangeInput\r\n          stepSize=\"1\"\r\n          max={this.calculateMax(CO2eObject)}\r\n          startValue={CO2eObject.moneySpent}\r\n          handleChange={(e) => this.handleChange(e, CO2eObject)}\r\n        />\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        {tabButtons}\r\n        {slidersForSpecificTab}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// THE WHOLE WEB APP\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      phase: 1,\r\n      currentCO2e: 11,\r\n      budgetLimit: 6,\r\n    };\r\n    this.CO2eList = {\r\n      transport: [],\r\n      housing: [],\r\n      food: [],\r\n      other: []\r\n    };\r\n\r\n    for (var prop in file) {\r\n      var CO2eObject = file[prop];\r\n      CO2eObject.moneySpent = 0;\r\n      CO2eObject.co2eSpent = function(){\r\n        return this.moneySpent*this.intensity;\r\n      };\r\n      switch(CO2eObject.chart_group) {\r\n        case \"transport\":\r\n          this.CO2eList.transport.push(CO2eObject);\r\n          break;\r\n        case \"housing\":\r\n          this.CO2eList.housing.push(CO2eObject);\r\n          break;\r\n        case \"food\":\r\n          this.CO2eList.food.push(CO2eObject);\r\n          break;\r\n        case \"misc\":\r\n          this.CO2eList.other.push(CO2eObject);\r\n          break;\r\n        default:\r\n          break;\r\n      };\r\n    };\r\n  }\r\n\r\n  goBack() {\r\n    this.setState({\r\n      phase: this.state.phase-1\r\n    });\r\n  }\r\n\r\n  confirmCurrentEmissions(value) {\r\n    this.setState({\r\n      currentCO2e: value,\r\n      phase: 2\r\n    });\r\n  }\r\n\r\n  confirmBudgetLimit(value) {\r\n    this.setState({\r\n      budgetLimit: value,\r\n      phase: 3\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let mainContent;\r\n    switch (this.state.phase) {\r\n      case 1:\r\n        mainContent = <InputPage confirm={(v)=>this.confirmCurrentEmissions(v)}/>\r\n        break;\r\n      case 2:\r\n        mainContent = <SetBudgetPage\r\n                        currentCO2e={this.state.currentCO2e}\r\n                        confirm={(v)=>this.confirmBudgetLimit(v)}\r\n                        goBack={this.goBack.bind(this)}\r\n                      />\r\n        break;\r\n      case 3:\r\n        mainContent = <SetDetailBudgetPage\r\n                        CO2eList={this.CO2eList}\r\n                        budgetLimit={this.state.budgetLimit}\r\n                        goBack={this.goBack.bind(this)}\r\n                      />\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        {mainContent}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}